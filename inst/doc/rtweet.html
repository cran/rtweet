<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Intro to rtweet</title>

<script src="rtweet_files/header-attrs-2.18/header-attrs.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>



<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="/home/lluis/bin/R/4.2.2/rmarkdown/rmarkdown/templates/html_vignette/resources/vignette.css" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Intro to rtweet</h1>



<p>This vignette provides a quick tour of the R package.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;rtweet&quot;</span>)</span></code></pre></div>
<div id="authenticate" class="section level2">
<h2>Authenticate</h2>
<p>First you should set up your own credentials, this should be done
just once ever:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">auth_setup_default</span>()</span></code></pre></div>
<p>Which will look up your account on your browser and create a token
and save it as default. From now on, on this R session on others we can
use this authentication with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">auth_as</span>(<span class="st">&quot;default&quot;</span>)</span></code></pre></div>
<p>Automatically rtweet will use that token in all the API queries it
will do in the session.</p>
<p>If you want to set up a bot or collect a lot of information, please
read the <code>vignette("auth", "rtweet")</code>.</p>
</div>
<div id="search-tweets" class="section level2">
<h2>Search tweets</h2>
<p>You can search tweets:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="do">## search for 18000 tweets using the rstats hashtag</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>rstats <span class="ot">&lt;-</span> <span class="fu">search_tweets</span>(<span class="st">&quot;#rstats&quot;</span>, <span class="at">n =</span> <span class="dv">100</span>, <span class="at">include_rts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(rstats)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] &quot;created_at&quot;                    &quot;id&quot;                           </span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [3] &quot;id_str&quot;                        &quot;text&quot;                         </span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [5] &quot;full_text&quot;                     &quot;truncated&quot;                    </span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] &quot;entities&quot;                      &quot;source&quot;                       </span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [9] &quot;in_reply_to_status_id&quot;         &quot;in_reply_to_status_id_str&quot;    </span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] &quot;in_reply_to_user_id&quot;           &quot;in_reply_to_user_id_str&quot;      </span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [13] &quot;in_reply_to_screen_name&quot;       &quot;geo&quot;                          </span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [15] &quot;coordinates&quot;                   &quot;place&quot;                        </span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [17] &quot;contributors&quot;                  &quot;is_quote_status&quot;              </span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [19] &quot;retweet_count&quot;                 &quot;favorite_count&quot;               </span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21] &quot;favorited&quot;                     &quot;favorited_by&quot;                 </span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [23] &quot;retweeted&quot;                     &quot;scopes&quot;                       </span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [25] &quot;lang&quot;                          &quot;possibly_sensitive&quot;           </span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [27] &quot;display_text_width&quot;            &quot;display_text_range&quot;           </span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [29] &quot;retweeted_status&quot;              &quot;quoted_status&quot;                </span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] &quot;quoted_status_id&quot;              &quot;quoted_status_id_str&quot;         </span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [33] &quot;quoted_status_permalink&quot;       &quot;quote_count&quot;                  </span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [35] &quot;timestamp_ms&quot;                  &quot;reply_count&quot;                  </span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [37] &quot;filter_level&quot;                  &quot;metadata&quot;                     </span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [39] &quot;query&quot;                         &quot;withheld_scope&quot;               </span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [41] &quot;withheld_copyright&quot;            &quot;withheld_in_countries&quot;        </span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [43] &quot;possibly_sensitive_appealable&quot;</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>rstats[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">&quot;created_at&quot;</span>, <span class="st">&quot;text&quot;</span>, <span class="st">&quot;id_str&quot;</span>)]</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Users data at users_data()</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   created_at          text                                                                  id_str</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dttm&gt;              &lt;chr&gt;                                                                 &lt;chr&gt; </span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2022-12-20 07:00:00 &quot;Practical Linear Algebra for #DataScience! #BigData #Analytics #Mat… 16050…</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2022-12-19 03:00:17 &quot;#SQL Interview for #DataScientists! #BigData #Analytics #DataScienc… 16046…</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2022-12-20 00:26:01 &quot;LSTM: Intro to Long-Short Term Memory. #BigData #Analytics #DataSci… 16049…</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 2022-12-20 22:02:11 &quot;CRAN updates: archiveRetriever #rstats&quot;                              16053…</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 2022-12-20 21:37:06 &quot;#Python Libraries and Frameworks via @DataScienceDojo! 😄🙃😊\n\n#1… 16053…</span></span></code></pre></div>
<p>The <code>include_rts = FALSE</code> excludes retweets from the
search.</p>
<p>Twitter rate limits the number of calls to the endpoints you can do.
See <code>rate_limit()</code> and the <a href="#Rate-limit">rate limit
section</a> below. If your query requires more calls like the example
below, simply set <code>retryonratelimit = TRUE</code> and rtweet will
wait for rate limit resets for you.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="do">## search for 250,000 tweets containing the word data</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>tweets_peace <span class="ot">&lt;-</span> <span class="fu">search_tweets</span>(<span class="st">&quot;peace&quot;</span>, <span class="at">n =</span> <span class="dv">250000</span>, <span class="at">retryonratelimit =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>Search by geo-location, for example tweets in the English language
sent from the United States.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># search for tweets sent from the US</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># lookup_coords requires Google maps API key for maps outside usa, canada and world</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>geo_tweets <span class="ot">&lt;-</span> <span class="fu">search_tweets</span>(<span class="st">&quot;lang:en&quot;</span>, <span class="at">geocode =</span> <span class="fu">lookup_coords</span>(<span class="st">&quot;usa&quot;</span>), <span class="at">n =</span> <span class="dv">100</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>geo_tweets[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">&quot;created_at&quot;</span>, <span class="st">&quot;text&quot;</span>, <span class="st">&quot;id_str&quot;</span>, <span class="st">&quot;lang&quot;</span>, <span class="st">&quot;place&quot;</span>)]</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Users data at users_data()</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 5</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   created_at          text                                                     id_str lang  place </span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;dttm&gt;              &lt;chr&gt;                                                    &lt;chr&gt;  &lt;chr&gt; &lt;list&gt;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 2022-12-20 13:19:26 Love being your Christmas Danny. https://t.co/XdR7Pt90at 16051… en    &lt;df&gt;  </span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 2022-12-20 22:05:45 Pedestrian Accident in #Charlotte on University City Bl… 16053… en    &lt;df&gt;  </span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 2022-12-20 22:05:45 Accident. Right Shoulder blocked in #Centreville on I-6… 16053… en    &lt;df&gt;  </span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 2022-12-20 22:05:45 Always having to pee is getting really annoying 😭😭     16053… en    &lt;df&gt;  </span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 NA                  &lt;NA&gt;                                                     &lt;NA&gt;   &lt;NA&gt;  &lt;NULL&gt;</span></span></code></pre></div>
<p>You can check the location of these tweets with
<code>lat_lng()</code>. Or quickly visualize frequency of tweets over
time using <code>ts_plot()</code> (if <code>ggplot2</code> is
installed).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="do">## plot time series of tweets</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ts_plot</span>(rstats) <span class="sc">+</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)) <span class="sc">+</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Frequency of #rstats Twitter statuses from past 9 days&quot;</span>,</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Twitter status (tweet) counts aggregated using three-hour intervals&quot;</span>,</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Source: Data collected from Twitter&#39;s REST API via rtweet&quot;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<div class="figure">
<img src="vignettes/files/plot1-1.png" alt="" />
<p class="caption">plot of chunk plot1</p>
</div>
</div>
<div id="posting-statuses" class="section level2">
<h2>Posting statuses</h2>
<p>You can post tweets with:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">post_tweet</span>(<span class="fu">paste0</span>(<span class="st">&quot;My first tweet with #rtweet #rstats at &quot;</span>, <span class="fu">Sys.time</span>()))</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Your tweet has been posted!</span></span></code></pre></div>
<p>It can include media and alt text:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>path_file <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.png&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">png</span>(<span class="at">filename =</span> path_file)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(mpg <span class="sc">~</span> cyl, mtcars, <span class="at">col =</span> gear, <span class="at">pch =</span> gear)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; png </span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   2</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="fu">post_tweet</span>(<span class="st">&quot;my first tweet with #rtweet with media #rstats&quot;</span>, <span class="at">media =</span> path_file, <span class="at">media_alt_text =</span> <span class="st">&quot;Plot of mtcars dataset, showing cyl vs mpg colored by gear. The lower cyl the higher the mpg is.&quot;</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Your tweet has been posted!</span></span></code></pre></div>
<p>You can also reply to a previous tweet, retweet and provide
additional information.</p>
</div>
<div id="get-friends" class="section level2">
<h2>Get friends</h2>
<p>Retrieve a list of all the accounts a <strong>user
follows</strong>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get user IDs of accounts followed by R Foundation</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>R_foundation_fds <span class="ot">&lt;-</span> <span class="fu">get_friends</span>(<span class="st">&quot;_R_Foundation&quot;</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>R_foundation_fds</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 30 × 2</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    from_id       to_id              </span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;         &lt;chr&gt;              </span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 _R_Foundation 1448728978370535426</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 _R_Foundation 889777924991307778 </span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 _R_Foundation 1300656590         </span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 _R_Foundation 1280779280579022848</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 _R_Foundation 1229418786085888001</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 _R_Foundation 1197874989367779328</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 _R_Foundation 1102763906714554368</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 _R_Foundation 1560929287         </span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 _R_Foundation 46782674           </span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 _R_Foundation 16284661           </span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 20 more rows</span></span></code></pre></div>
<p>Using <code>get_friends()</code> we can retrieve which users are
being followed by the R Foundation.</p>
</div>
<div id="get-followers" class="section level2">
<h2>Get followers</h2>
<p>If you really want all the users that follow the account we can use
<code>get_followers()</code>:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>R_foundation_flw <span class="ot">&lt;-</span> <span class="fu">get_followers</span>(<span class="st">&quot;_R_Foundation&quot;</span>, <span class="at">n =</span> <span class="dv">30000</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">retryonratelimit =</span> <span class="cn">TRUE</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Downloading multiple pages ======================&gt;----------------------------------------------</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Downloading multiple pages =================================&gt;-----------------------------------</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Downloading multiple pages =============================================&gt;-----------------------</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Downloading multiple pages =========================================================&gt;-----------</span></span></code></pre></div>
<p>Note that the <code>retryonratelimit</code> option is intended for
when you need more queries than provided by Twitter on a given period.
You might want to check with <code>rate_limit()</code> how many does it
provide for the endpoints you are using. If exceeded
<code>retryonratelimit</code> waits till the there are more calls
available and then resumes the query.</p>
</div>
<div id="lookup-users" class="section level2">
<h2>Lookup users</h2>
<p>As seen above we can use <code>lookup_users()</code> to check
their</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look who is following R Foundation</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>R_foundation_fds_data <span class="ot">&lt;-</span> <span class="fu">lookup_users</span>(R_foundation_fds<span class="sc">$</span>to_id, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>R_foundation_fds_data[, <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;screen_name&quot;</span>, <span class="st">&quot;created_at&quot;</span>)]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Tweets data at tweets_data()# A tibble: 30 × 3</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    name                                           screen_name     created_at         </span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                                          &lt;chr&gt;           &lt;dttm&gt;             </span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 R Contributors                                 R_Contributors  2021-10-14 21:15:12</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 Sebastian Meyer                                bastistician    2017-07-25 11:22:43</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 Naras                                          b_naras         2013-03-25 19:48:12</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 useR! 2022                                     _useRconf       2020-07-08 10:22:55</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 useR2021zrh                                    useR2021zrh     2020-02-17 15:54:39</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 useR2020muc                                    useR2020muc     2019-11-22 14:50:55</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 useR! 2020                                     useR2020stl     2019-03-05 03:52:58</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 Roger Bivand @rsbivand@fosstodon.org           RogerBivand     2013-07-01 18:19:42</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 Henrik Bengtsson                               henrikbengtsson 2009-06-13 02:11:14</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 Gabriela de Queiroz ☁️ 🥑 (fosstodon.org/@kroz) gdequeiroz      2008-09-14 18:55:29</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 20 more rows</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Look 100 R Foundation followers</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>R_foundation_flw_data <span class="ot">&lt;-</span> <span class="fu">lookup_users</span>(<span class="fu">head</span>(R_foundation_flw<span class="sc">$</span>from_id, <span class="dv">100</span>), <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>R_foundation_flw_data[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;screen_name&quot;</span>, <span class="st">&quot;created_at&quot;</span>)]</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Tweets data at tweets_data()# A tibble: 5 × 3</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   name           screen_name   created_at         </span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;          &lt;chr&gt;         &lt;dttm&gt;             </span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 N Santos       ninofss       2022-06-29 20:13:46</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 KR             KuriaShiroh   2017-01-13 21:02:59</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 Burak Karahan  _BurakKARAHAN 2013-06-25 14:20:58</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 Fabrice Humura Fhumura       2013-06-20 09:23:07</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 VictorAnsem    VictorAnsem   2013-11-18 11:03:54</span></span></code></pre></div>
<p>We have now the information from those followed by the R Foundation
and its followers. We can retrieve their latest tweets from these
users:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tweets_data</span>(R_foundation_fds_data)[, <span class="fu">c</span>(<span class="st">&quot;created_at&quot;</span>, <span class="st">&quot;text&quot;</span>)]</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 30 × 2</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    created_at                     text                                                            </span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                          &lt;chr&gt;                                                           </span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 Thu Dec 01 11:46:14 +0000 2022 &quot;Today! EMEA/APAC office hour has just taken place. AMER office…</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 Wed Sep 28 15:06:22 +0000 2022 &quot;RT @pdalgd: #rstats 4.2.2 \&quot;Innocent and Trusting\&quot;  scheduled…</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 Tue Nov 29 15:55:04 +0000 2022 &quot;@stevenstrogatz Terry Tao also posted a nice note recently htt…</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 Sat Nov 12 16:06:40 +0000 2022 &quot;RT @HeathrTurnr: Wondering about setting up a data science/ope…</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 Fri Jul 29 05:30:06 +0000 2022 &quot;RT @kidssindwichtig: Wenn du in deiner Arbeitszeit noch nie ei…</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 Fri Apr 16 11:03:21 +0000 2021 &quot;RT @_useRconf: It is a good time to remember some of our keyda…</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 Mon Jan 18 17:36:22 +0000 2021 &quot;Give us a follow at @_useRconf to stay updated on *all* future…</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 Sat Dec 17 13:04:43 +0000 2022 &quot;RT @VincentAB: Want to use @jmwooldridge&#39;s Extended Two-Way Fi…</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 Mon Dec 19 15:14:15 +0000 2022 &quot;@_ColinFay @rweekly_org That was quick. Thx&quot;                   </span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 Mon Dec 19 18:29:22 +0000 2022 &quot;@thomas_mock @posit_pbc OMG! Congratulations!! (Sorry to tell …</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 20 more rows</span></span></code></pre></div>
</div>
<div id="search-users" class="section level2">
<h2>Search users</h2>
<p>Search for 1,000 users with the rstats hashtag in their profile
bios.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="do">## search for users with #rstats in their profiles</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>useRs <span class="ot">&lt;-</span> <span class="fu">search_users</span>(<span class="st">&quot;#rstats&quot;</span>, <span class="at">n =</span> <span class="dv">100</span>, <span class="at">verbose =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>useRs[, <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;screen_name&quot;</span>, <span class="st">&quot;created_at&quot;</span>)]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Tweets data at tweets_data()# A tibble: 100 × 3</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    name                         screen_name    created_at         </span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                        &lt;chr&gt;          &lt;dttm&gt;             </span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 Rstats                       rstatstweet    2018-06-27 05:45:02</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 R for Data Science           rstats4ds      2018-12-18 13:55:25</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 FC rSTATS                    FC_rstats      2018-02-08 21:03:08</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 #RStats Question A Day       data_question  2019-10-21 19:15:24</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 R Tweets                     rstats_tweets  2020-09-17 18:12:09</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 Ramiro Bentes                NbaInRstats    2019-11-05 03:44:32</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 Data Science with R          Rstats4Econ    2012-04-21 04:37:12</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 Baseball with R              BaseballRstats 2013-11-02 16:07:05</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 Will                         steelRstats    2019-07-23 16:48:00</span></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 LIRR Statistics (Unofficial) LIRRstats      2017-01-25 00:31:55</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 90 more rows</span></span></code></pre></div>
<p>If we want to know what have they tweeted about we can use
<code>tweets_data()</code>:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>useRs_twt <span class="ot">&lt;-</span> <span class="fu">tweets_data</span>(useRs)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>useRs_twt[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">&quot;id_str&quot;</span>, <span class="st">&quot;created_at&quot;</span>, <span class="st">&quot;text&quot;</span>)]</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   id_str              created_at                     text                                         </span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;               &lt;chr&gt;                          &lt;chr&gt;                                        </span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1605298908707508224 Tue Dec 20 20:27:39 +0000 2022 &quot;RT @meghansharris: If you&#39;re looking for me…</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1605295768717234176 Tue Dec 20 20:15:10 +0000 2022 &quot;RT @Highcharts: A step-by-step tutorial to …</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1593655548091797505 Fri Nov 18 17:21:06 +0000 2022 &quot;copying @lemonwatcher&#39;s tactic of twitter b…</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1605178921355706370 Tue Dec 20 12:30:52 +0000 2022 &quot;Options:\n(Answer at: https://t.co/luCHh1j6…</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 1605298970686902294 Tue Dec 20 20:27:54 +0000 2022 &quot;RT @meghansharris: If you&#39;re looking for me…</span></span></code></pre></div>
</div>
<div id="get-timelines" class="section level2">
<h2>Get timelines</h2>
<p>Get the most recent tweets from R Foundation.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get user IDs of accounts followed by R Foundation</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>R_foundation_tline <span class="ot">&lt;-</span> <span class="fu">get_timeline</span>(<span class="st">&quot;_R_Foundation&quot;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="do">## plot the frequency of tweets for each user over time</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>plot <span class="ot">&lt;-</span> R_foundation_tline <span class="sc">|&gt;</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(created_at <span class="sc">&gt;</span> <span class="st">&quot;2017-10-29&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ts_plot</span>(<span class="at">by =</span> <span class="st">&quot;month&quot;</span>, <span class="at">trim =</span> 1L) <span class="sc">+</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">&quot;bold&quot;</span>)) <span class="sc">+</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>,</span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Frequency of Twitter statuses posted by the R Foundation&quot;</span>,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="st">&quot;Twitter status (tweet) counts aggregated by month from October/November 2017&quot;</span>,</span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">&quot;Source: Data collected from Twitter&#39;s REST API via rtweet&quot;</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="get-favorites" class="section level2">
<h2>Get favorites</h2>
<p>Get the 10 recently favorited statuses by R Foundation.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>R_foundation_favs <span class="ot">&lt;-</span> <span class="fu">get_favorites</span>(<span class="st">&quot;_R_Foundation&quot;</span>, <span class="at">n =</span> <span class="dv">10</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>R_foundation_favs[, <span class="fu">c</span>(<span class="st">&quot;text&quot;</span>, <span class="st">&quot;created_at&quot;</span>, <span class="st">&quot;id_str&quot;</span>)]</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Users data at users_data()</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 10 × 3</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    text                                                                 created_at          id_str</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                                                                &lt;dttm&gt;              &lt;chr&gt; </span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 &quot;We&#39;re into August, which hopefully means you&#39;ve had time to enjoy … 2020-08-03 09:51:33 12901…</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 &quot;Gret meeting of #useR2020 passing the torch to #useR2021! 🔥 \nTha… 2020-07-16 17:14:25 12837…</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 &quot;Also thanks to the @_R_Foundation, @R_Forwards, @RLadiesGlobal, Mi… 2020-05-28 08:57:24 12658…</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 &quot;Such an honour to be acknowledged this way at #useR2019. I&#39;m happy… 2019-07-12 18:36:27 11497…</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 &quot;R-3.4.4 Windows installer is on CRAN now: https://t.co/h35EcsIEuF … 2018-03-15 18:16:13 97433…</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 &quot;Gala dinner with a table with people in cosmology, finance, psycho… 2017-07-07 09:10:41 88322…</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 &quot;AMAZING #RLadies at #useR2017 💜🌍 inspiring #rstats work around t… 2017-07-05 13:25:27 88256…</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 &quot;Fame at last: https://t.co/x4wIePKR6b -- it&#39;s always nice to get a… 2017-06-07 23:25:37 87256…</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 &quot;We are excited to let you know that the full Conference Program is… 2017-05-31 14:37:23 86989…</span></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 &quot;. @statsYSS and @RSSGlasgow1  to hold joint event celebrating 20 y… 2017-04-10 10:50:11 85135…</span></span></code></pre></div>
</div>
<div id="get-trends" class="section level2">
<h2>Get trends</h2>
<p>Discover what’s currently trending in San Francisco.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>world <span class="ot">&lt;-</span> <span class="fu">get_trends</span>(<span class="st">&quot;world&quot;</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>world</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 50 × 9</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    trend           url   promo…¹ query tweet…² place woeid as_of               created_at         </span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;           &lt;chr&gt; &lt;lgl&gt;   &lt;chr&gt;   &lt;int&gt; &lt;chr&gt; &lt;int&gt; &lt;dttm&gt;              &lt;dttm&gt;             </span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 #MerciLesBleus  http… NA      %23M…      NA Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 #CashAppGiftCa… http… NA      %23C…   11513 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 #PromosyonFiya… http… NA      %23P…   16068 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 Berni           http… NA      Berni   12538 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 #المتجر_الالكت… http… NA      %23%…   12029 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 #سعودي_ايدول    http… NA      %23%…      NA Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 Rosada          http… NA      Rosa…  115732 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 Larreta         http… NA      Larr…   16698 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 CABA            http… NA      CABA    46767 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 Ochoa           http… NA      Ochoa   19026 Worl…     1 2022-12-20 21:06:02 2022-12-18 11:01:37</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 40 more rows, and abbreviated variable names ¹​promoted_content, ²​tweet_volume</span></span></code></pre></div>
</div>
<div id="following-users" class="section level2">
<h2>Following users</h2>
<p>You can follow users and unfollow them:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">post_follow</span>(<span class="st">&quot;_R_Foundation&quot;</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Response [https://api.twitter.com/1.1/friendships/create.json?notify=FALSE&amp;screen_name=_R_Foundation]</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Date: 2022-12-20 21:06</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Status: 200</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Content-Type: application/json;charset=utf-8</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Size: 3.63 kB</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">post_unfollow_user</span>(<span class="st">&quot;rtweet_test&quot;</span>)</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Response [https://api.twitter.com/1.1/friendships/destroy.json?notify=FALSE&amp;screen_name=rtweet_test]</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Date: 2022-12-20 21:06</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Status: 200</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Content-Type: application/json;charset=utf-8</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Size: 3.3 kB</span></span></code></pre></div>
</div>
<div id="managing-data" class="section level2">
<h2>Managing data</h2>
<p>There are some functions to help analyze the data extracted from the
API.</p>
<p>With <code>clean_tweets()</code> you can remove users mentions,
hashtags, urls and media to keep only the text if you want to do
sentiment analysis (you might want to remove emojis too).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">clean_tweets</span>(<span class="fu">head</span>(R_foundation_favs), <span class="at">clean =</span> <span class="fu">c</span>(<span class="st">&quot;users&quot;</span>, <span class="st">&quot;hashtags&quot;</span>, <span class="st">&quot;urls&quot;</span>, <span class="st">&quot;media&quot;</span>))</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] &quot;We&#39;re into August, which hopefully means you&#39;ve had time to enjoy content from !\n\nPlease help us find out who participated in the conference and what you thought of it by answering our survey: .&quot;                           </span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [2] &quot;Gret meeting of  passing the torch to ! 🔥 \nThank you so much, everyone!🙏🏽\nParticularly,\n🌟 from  \n🌟,  chair\n🌟 &amp;amp; ,  chairs\n🌟 &amp;amp; , @useR2021global chairs&quot;                                                     </span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [3] &quot;Also thanks to the , , , MiR and many others in supporting us in this endeavour!&quot;                                                                                                                                               </span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [4] &quot;Such an honour to be acknowledged this way at . I&#39;m happy that folks like , , ,  and so many others have got on board with my ideas for the  community and helped them come to fruition - even better than I could imagine. 💜 &quot;</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] &quot;R-3.4.4 Windows installer is on CRAN now:  &quot;                                                                                                                                                                                    </span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [6] &quot;Gala dinner with a table with people in cosmology, finance, psychology, demography, medical doctor   😊&quot;</span></span></code></pre></div>
<p>With <code>entity()</code> you can access any entity of the tweets.
It returns the id of the tweet and the corresponding data field in the
selected entity.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">entity</span>(R_foundation_favs, <span class="st">&quot;urls&quot;</span>))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                id_str                     url</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1290193576169803776 https://t.co/HYLl6rMySc</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1283782043021774850                    &lt;NA&gt;</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1265899960228360195                    &lt;NA&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1149719180314316800 https://t.co/dg2Dh49tug</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  974333459085672448 https://t.co/h35EcsIEuF</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  974333459085672448 https://t.co/7xko0aUS2w</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                                                expanded_url                        display_url</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                              http://bit.ly/useR2020survey              bit.ly/useR2020survey</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2                                                      &lt;NA&gt;                               &lt;NA&gt;</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3                                                      &lt;NA&gt;                               &lt;NA&gt;</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 https://twitter.com/alice_data/status/1149680375817494529        twitter.com/alice_data/sta…</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5              https://cran.r-project.org/bin/windows/base/ cran.r-project.org/bin/windows/ba…</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      https://twitter.com/pdalgd/status/974214402097508353        twitter.com/pdalgd/status/…</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   unwound</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1      NA</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2      NA</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3      NA</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4      NA</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5      NA</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6      NA</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">entity</span>(R_foundation_favs, <span class="st">&quot;hashtags&quot;</span>))</span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                id_str     text</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1290193576169803776 useR2020</span></span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1283782043021774850 useR2020</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1283782043021774850 useR2021</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1265899960228360195     &lt;NA&gt;</span></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 1149719180314316800 useR2019</span></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 1149719180314316800   rstats</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">entity</span>(R_foundation_favs, <span class="st">&quot;symbols&quot;</span>))</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                id_str text</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1290193576169803776   NA</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1283782043021774850   NA</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1265899960228360195   NA</span></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1149719180314316800   NA</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  974333459085672448   NA</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  883221715777720320   NA</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">entity</span>(R_foundation_favs, <span class="st">&quot;user_mentions&quot;</span>))</span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                id_str   screen_name                                         name      user_id</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1290193576169803776          &lt;NA&gt;                                         &lt;NA&gt;           NA</span></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1283782043021774850   HeathrTurnr                  Heather Turner is on strike 3.367337e+09</span></span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1283782043021774850 _R_Foundation The R Foundation @R_Foundation@fosstodon.org 7.944582e+17</span></span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1283782043021774850     HeidiBaya    Heidi Seibold @HeidiSeibold@fosstodon.org 5.321151e+08</span></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 1283782043021774850   useR2020muc                                  useR2020muc 1.197875e+18</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6 1283782043021774850   chrisprener                                 Chris Prener 5.075829e+08</span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;           user_id_str</span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1                &lt;NA&gt;</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2          3367336625</span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3  794458165987438592</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4           532115122</span></span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 1197874989367779328</span></span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6           507582860</span></span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(<span class="fu">entity</span>(R_foundation_favs, <span class="st">&quot;media&quot;</span>))</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;                id_str id id_str media_url media_url_https  url display_url expanded_url type</span></span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 1290193576169803776 NA   &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 1283782043021774850 NA   &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 1265899960228360195 NA   &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 1149719180314316800 NA   &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5  974333459085672448 NA   &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6  883221715777720320 NA   &lt;NA&gt;      &lt;NA&gt;            &lt;NA&gt; &lt;NA&gt;        &lt;NA&gt;         &lt;NA&gt; &lt;NA&gt;</span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   sizes ext_alt_text</span></span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1    NA           NA</span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2    NA           NA</span></span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3    NA           NA</span></span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4    NA           NA</span></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5    NA           NA</span></span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 6    NA           NA</span></span></code></pre></div>
<p>To avoid having two columns with the same name,
<code>user_mentions()</code> renames to the ids from “id” and “id_str”
to “user_id” and “user_id_str”.</p>
</div>
<div id="muting-users" class="section level2">
<h2>Muting users</h2>
<p>You can mute and unmute users:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">post_follow</span>(<span class="st">&quot;rtweet_test&quot;</span>, <span class="at">mute =</span> <span class="cn">TRUE</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">post_follow</span>(<span class="st">&quot;rtweet_test&quot;</span>, <span class="at">mute =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
</div>
<div id="blocking-users" class="section level2">
<h2>Blocking users</h2>
<p>You can block users and unblock them:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">user_block</span>(<span class="st">&quot;RTweetTest1&quot;</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Response [https://api.twitter.com/1.1/blocks/create.json?screen_name=RTweetTest1]</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Date: 2022-12-20 21:06</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Status: 200</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Content-Type: application/json;charset=utf-8</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Size: 1.35 kB</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">user_unblock</span>(<span class="st">&quot;RTweetTest1&quot;</span>)</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Response [https://api.twitter.com/1.1/blocks/destroy.json?screen_name=RTweetTest1]</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Date: 2022-12-20 21:06</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Status: 200</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Content-Type: application/json;charset=utf-8</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   Size: 1.35 kB</span></span></code></pre></div>
</div>
<div id="rate-limits" class="section level2">
<h2>Rate limits</h2>
<p>Twitter sets a limited number of calls to their endpoints for
different authentications (check <code>vignette("auth", "rtweet")</code>
to find which one is better for your use case). To consult those limits
you can use <code>rate_limt()</code></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rate_limit</span>()</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 263 × 5</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    resource                 limit remaining reset_at            reset  </span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;    &lt;chr&gt;                    &lt;int&gt;     &lt;int&gt; &lt;dttm&gt;              &lt;drtn&gt; </span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  1 /lists/list                 15        15 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  2 /lists/:id/tweets&amp;GET      900       900 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  3 /lists/:id/followers&amp;GET   180       180 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  4 /lists/memberships          75        75 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  5 /lists/:id&amp;DELETE          300       300 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  6 /lists/subscriptions        15        15 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  7 /lists/members             900       900 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  8 /lists/:id&amp;GET              75        75 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  9 /lists/subscribers/show     15        15 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 10 /lists/:id&amp;PUT             300       300 2022-12-20 22:21:03 15 mins</span></span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # … with 253 more rows</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Search only those related to followers</span></span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a><span class="fu">rate_limit</span>(<span class="st">&quot;followers&quot;</span>)</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; # A tibble: 5 × 5</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   resource                               limit remaining reset_at            reset  </span></span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   &lt;chr&gt;                                  &lt;int&gt;     &lt;int&gt; &lt;dttm&gt;              &lt;drtn&gt; </span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 1 /lists/:id/followers&amp;GET                 180       180 2022-12-20 22:21:04 15 mins</span></span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 2 /users/:id/followers                      15        15 2022-12-20 22:21:04 15 mins</span></span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 3 /users/by/username/:username/followers    15        15 2022-12-20 22:21:04 15 mins</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 4 /followers/ids                            15         9 2022-12-20 22:20:50 15 mins</span></span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; 5 /followers/list                           15        15 2022-12-20 22:21:04 15 mins</span></span></code></pre></div>
<p>The remaining column shows the number of times that you can call and
endpoint (not the numbers of followers you can search). After a query
the number should decrease until it is reset again.</p>
<p>If your queries return an error, check if you already exhausted your
quota and try after the time on “reset_at”.</p>
</div>
<div id="stream-tweets" class="section level2">
<h2>Stream tweets</h2>
<p>Please, see the vignette on <code>vignette("stream", "rtweet")</code>
for more information.</p>
</div>
<div id="sessioninfo" class="section level2">
<h2>SessionInfo</h2>
<p>To provide real examples the vignette is precomputed before
submission. Also note that results returned by the API will change.</p>
<div class="sourceCode" id="cb25"><pre
class="sourceCode r fold-hide"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; R version 4.2.2 (2022-10-31)</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Running under: Ubuntu 22.04.1 LTS</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; Matrix products: default</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.20.so</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; locale:</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C               LC_TIME=es_ES.UTF-8       </span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [4] LC_COLLATE=en_US.UTF-8     LC_MONETARY=es_ES.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [7] LC_PAPER=es_ES.UTF-8       LC_NAME=C                  LC_ADDRESS=C              </span></span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [10] LC_TELEPHONE=C             LC_MEASUREMENT=es_ES.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; attached base packages:</span></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; other attached packages:</span></span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [1] dplyr_1.0.10        ggplot2_3.4.0       knitr_1.41          rtweet_1.0.2.9018  </span></span>
<span id="cb25-21"><a href="#cb25-21" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [5] BiocManager_1.30.19 cyclocomp_1.1.0     testthat_3.1.5      devtools_2.4.5     </span></span>
<span id="cb25-22"><a href="#cb25-22" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [9] usethis_2.1.6      </span></span>
<span id="cb25-23"><a href="#cb25-23" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb25-24"><a href="#cb25-24" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span id="cb25-25"><a href="#cb25-25" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [1] fs_1.5.2          bit64_4.0.5       progress_1.2.2    httr_1.4.4        rprojroot_2.0.3  </span></span>
<span id="cb25-26"><a href="#cb25-26" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [6] tools_4.2.2       profvis_0.3.7     utf8_1.2.2        R6_2.5.1          DBI_1.1.3        </span></span>
<span id="cb25-27"><a href="#cb25-27" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [11] colorspace_2.0-3  urlchecker_1.0.1  withr_2.5.0       tidyselect_1.2.0  prettyunits_1.1.1</span></span>
<span id="cb25-28"><a href="#cb25-28" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [16] processx_3.8.0    bit_4.0.5         curl_4.3.3        compiler_4.2.2    httr2_0.2.2      </span></span>
<span id="cb25-29"><a href="#cb25-29" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [21] cli_3.4.1         webmockr_0.8.2    xml2_1.3.3        desc_1.4.2        labeling_0.4.2   </span></span>
<span id="cb25-30"><a href="#cb25-30" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [26] triebeard_0.3.0   scales_1.2.1      callr_3.7.3       askpass_1.1       rappdirs_0.3.3   </span></span>
<span id="cb25-31"><a href="#cb25-31" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [31] commonmark_1.8.1  stringr_1.5.0     digest_0.6.30     rmarkdown_2.18    base64enc_0.1-3  </span></span>
<span id="cb25-32"><a href="#cb25-32" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [36] pkgconfig_2.0.3   htmltools_0.5.3   sessioninfo_1.2.2 highr_0.9         fastmap_1.1.0    </span></span>
<span id="cb25-33"><a href="#cb25-33" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [41] htmlwidgets_1.5.4 rlang_1.0.6       rstudioapi_0.14   httpcode_0.3.0    shiny_1.7.3      </span></span>
<span id="cb25-34"><a href="#cb25-34" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [46] farver_2.1.1      generics_0.1.3    jsonlite_1.8.4    magrittr_2.0.3    fauxpas_0.5.0    </span></span>
<span id="cb25-35"><a href="#cb25-35" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [51] Rcpp_1.0.9        munsell_0.5.0     fansi_1.0.3       lifecycle_1.0.3   stringi_1.7.8    </span></span>
<span id="cb25-36"><a href="#cb25-36" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [56] whisker_0.4.1     yaml_2.3.6        brio_1.1.3        pkgbuild_1.4.0    grid_4.2.2       </span></span>
<span id="cb25-37"><a href="#cb25-37" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [61] promises_1.2.0.1  crayon_1.5.2      miniUI_0.1.1.1    hms_1.1.2         ps_1.7.2         </span></span>
<span id="cb25-38"><a href="#cb25-38" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [66] pillar_1.8.1      pkgload_1.3.2     crul_1.3          glue_1.6.2        evaluate_0.18    </span></span>
<span id="cb25-39"><a href="#cb25-39" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [71] remotes_2.4.2     vctrs_0.5.1       httpuv_1.6.6      urltools_1.7.3    gtable_0.3.1     </span></span>
<span id="cb25-40"><a href="#cb25-40" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [76] openssl_2.0.5     purrr_0.3.5       assertthat_0.2.1  cachem_1.0.6      xfun_0.35        </span></span>
<span id="cb25-41"><a href="#cb25-41" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [81] mime_0.12         xtable_1.8-4      roxygen2_7.2.2    later_1.3.0       vcr_1.2.0        </span></span>
<span id="cb25-42"><a href="#cb25-42" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; [86] tibble_3.1.8      memoise_2.0.1     ellipsis_0.3.2</span></span></code></pre></div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
